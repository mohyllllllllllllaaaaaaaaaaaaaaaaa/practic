import"./assets/styles-CBVFB7D2.js";import{b}from"./assets/vendor-BtsFYPNx.js";const a={input:document.querySelector(".input-js"),button:document.querySelector(".btn-add"),list:document.querySelector(".todo-list")},d=JSON.parse(localStorage.getItem("task"))||[],u='<button type="button" class="btn-update" ></button>',m='<button type="button" class="btn-delete" >del</button>';function k(){return{id:Date.now(),status:"todo",text:a.input.value.trim()}}function L(t){d.push(t),localStorage.setItem("task",JSON.stringify(d))}function p(t){const e=t.status==="todo"?u:m;return`<li id="${t.id}" class="${t.status}"
><p>${t.text}</p>${e}</li>`}function y(){const t=k(),e=p(t);a.list.insertAdjacentHTML("beforeend",e),L(t),a.input.value=""}a.button.addEventListener("click",y);const c=JSON.parse(localStorage.getItem("task"));function E(){if(!c||!c.length)return;const t=c.map(p).join("");a.list.innerHTML=t}c!==null&&E();function I(t){t.target.nodeName==="LI"&&(t.target.classList.contains("todo")?(t.target.classList.replace("todo","complete"),t.target.lastElementChild.remove(),t.target.insertAdjacentHTML("beforeend",m)):(t.target.classList.replace("complete","todo"),t.target.lastElementChild.remove(),t.target.insertAdjacentHTML("beforeend",u)),N(t.target))}a.list.addEventListener("click",I);function N(t){const n=JSON.parse(localStorage.getItem("task")).map(o=>(o.id===+t.id&&(o.status=t.classList[0]),o));localStorage.setItem("task",JSON.stringify(n))}function x(t){t.target.classList.contains("btn-delete")&&(t.target.parentNode.remove(),O(t.target.parentNode))}a.list.addEventListener("click",x);function O(t){const n=JSON.parse(localStorage.getItem("task")).filter(o=>o.id!==+t.id);localStorage.setItem("task",JSON.stringify(n))}function T(t){if(!t.target.classList.contains("btn-update"))return;const e=t.target.closest("LI"),n=+e.id,o=e.querySelector("P").textContent,r=b.create(`   <div class="modal">
            <input type="text" id="edit-input" value="${o}" />
            <button id="update-task">Оновити</button>
            <button id="close-modal">Закрити</button>
        </div>`);r.show();const l=r.element();l.document.querySelector("#update-task").addEventListener("click",()=>{const s=document.querySelector("#edit-input").value.trim();s&&(e.querySelector("P").texContent=s,g(n,s)),r.close()}),l.document.querySelector("#close-modal").addEventListener("click",()=>r.close());function g(s,f){const S=(JSON.parse(localStorage.getItem("task"))||[]).map(i=>(i.id===s&&(i.text=f),i));localStorage.setItem("task",JSON.stringify(S))}}a.list.addEventListener("click",T);
//# sourceMappingURL=todo-list.js.map
